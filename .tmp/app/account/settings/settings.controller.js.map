{"version":3,"sources":["../../../../client/app/account/settings/settings.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM;AACJ,WADI,kBACJ,CAAY,IAAZ,EAAkB;0BADd,oBACc;;AAChB,SAAK,MAAL,GAAc,EAAd,CADgB;AAEhB,SAAK,SAAL,GAAiB,KAAjB,CAFgB;;AAIhB,SAAK,IAAL,GAAY,IAAZ,CAJgB;GAAlB;;eADI;;mCAQW,MAAM;;;AACnB,WAAK,SAAL,GAAiB,IAAjB,CADmB;;AAGnB,UAAI,KAAK,MAAL,EAAa;AACf,aAAK,IAAL,CAAU,cAAV,CAAyB,KAAK,IAAL,CAAU,WAAV,EAAuB,KAAK,IAAL,CAAU,WAAV,CAAhD,CACG,IADH,CACQ,YAAM;AACV,gBAAK,OAAL,GAAe,gCAAf,CADU;SAAN,CADR,CAIG,KAJH,CAIS,YAAM;AACX,eAAK,QAAL,CAAc,YAAd,CAA2B,UAA3B,EAAuC,KAAvC,EADW;AAEX,gBAAK,MAAL,CAAY,KAAZ,GAAoB,oBAApB,CAFW;AAGX,gBAAK,OAAL,GAAe,EAAf,CAHW;SAAN,CAJT,CADe;OAAjB;;;;SAXE;;;AAyBN,QAAQ,MAAR,CAAe,oBAAf,EACG,UADH,CACc,oBADd,EACoC,kBADpC","file":"settings.controller.js","sourcesContent":["'use strict';\n\nclass SettingsController {\n  constructor(Auth) {\n    this.errors = {};\n    this.submitted = false;\n\n    this.Auth = Auth;\n  }\n\n  changePassword(form) {\n    this.submitted = true;\n\n    if (form.$valid) {\n      this.Auth.changePassword(this.user.oldPassword, this.user.newPassword)\n        .then(() => {\n          this.message = 'Password successfully changed.';\n        })\n        .catch(() => {\n          form.password.$setValidity('mongoose', false);\n          this.errors.other = 'Incorrect password';\n          this.message = '';\n        });\n    }\n  }\n}\n\nangular.module('spirit99StationApp')\n  .controller('SettingsController', SettingsController);\n"]}